# Common Kafka Data Sink Configuration
# Base configuration for all Kafka data sinks in test harness demos

datasink:
  type: kafka

  # Delivery profile: high_throughput, low_latency, durable, balanced, development
  # This sets optimized defaults - individual properties below can override
  delivery_profile: "balanced"

  # Standard producer configuration
  # NOTE: Values use ${ENV_VAR:default} syntax - env var takes precedence (12-factor app style)
  producer_config:
    bootstrap.servers: "${VELOSTREAM_KAFKA_BROKERS:localhost:9333}"
    retries: 3
    batch.size: 16384
    buffer_memory: 33554432
    max_in_flight_requests_per_connection: 5

  # Schema settings
  schema:
    key.format: string
    value.serializer: "json"

  # Default topic properties
  topic_config:
    replication.factor: 1
    cleanup.policy: "delete"
