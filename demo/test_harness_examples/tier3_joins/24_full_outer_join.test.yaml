application: full_outer_join_demo
description: Test FULL OUTER JOIN returns all records from both sides
default_timeout_ms: 60000

queries:
  - name: order_shipment_reconciliation
    description: Verify reconciliation finds matched, orphan orders, and orphan shipments
    inputs:
      # Use CSV files with matching order_ids for joins to work
      - source: orders
        data_file: "../data/orders_join_test.csv"
      - source: shipments
        data_file: "../data/shipments_join_test.csv"
    assertions:
      - type: record_count
        greater_than: 0
      - type: schema_contains
        # Fields match SQL SELECT clause with aliases applied
        fields: [order_id, reconciliation_status]
    timeout_ms: 60000
