# Lesson 6: Generating a Runner Script

When you have multiple SQL files, a runner script helps manage them. The `scaffold` command generates one automatically.

## The `scaffold` Command

```bash
# Generate a runner script for this directory
velo-test scaffold . -y
```

This creates `velo-test.sh` tailored to your project structure.

## What It Detects

The scaffold command analyzes your directory:

| Pattern Found | Script Style |
|---------------|--------------|
| `tier*_*/` directories | Tiered (like test_harness_examples) |
| `apps/*.sql` + `tests/` | Simple (like trading demo) |
| Individual SQL files | Minimal (like quickstart) |

## Try It

```bash
# Generate the runner
velo-test scaffold . -y

# View what was generated
cat velo-test.sh

# Make it executable
chmod +x velo-test.sh

# Run all examples
./velo-test.sh
```

## Generated Script Features

The generated `velo-test.sh` includes:

```bash
# Run all SQL files
./velo-test.sh

# Validate only (no execution)
./velo-test.sh validate

# Run specific file
./velo-test.sh hello_world.sql

# Interactive mode
./velo-test.sh -i
```

## Customizing the Script

You can also specify options:

```bash
# Custom project name
velo-test scaffold . --name "My Quickstart" -y

# Force a specific style
velo-test scaffold . --style minimal -y

# Custom output path
velo-test scaffold . --output ./run-tests.sh -y
```

## Example Generated Script (Minimal Style)

```bash
#!/bin/bash
# velo-test.sh - Generated runner for quickstart
# Generated by: velo-test scaffold

VELO_TEST="velo-test"

case "${1:-run}" in
  validate)
    for f in *.sql; do
      $VELO_TEST validate "$f"
    done
    ;;
  run|*)
    for f in *.sql; do
      echo "Running: $f"
      $VELO_TEST run "$f"
    done
    ;;
esac
```

## Next Steps

- [07_observability.md](./07_observability.md) - Add monitoring and dashboards
