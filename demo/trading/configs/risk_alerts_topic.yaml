# Risk Alerts Topic Configuration
# Critical risk management alerts output

extends: common_kafka_sink.yaml

# Topic-specific settings
topic:
  name: "risk_alerts"
  
# Critical delivery profile
delivery_profile: critical

# Topic-specific schema
schema:
  key.field: trader_id
  schema_file: "schemas/risk_alerts.avsc"
  
# Topic properties
topic_config:
  partitions: 8
  retention.ms: 2592000000  # 30 days retention for compliance
  min_in_sync_replicas: 2   # Ensure durability
  
# Risk-specific headers
headers:
  alert_type: "risk_management"
  priority: "critical"
  regulatory_requirement: "true"
  
# Integration with external systems
integrations:
  email_alerts:
    enabled: true
    recipients: ["risk-team@trading-firm.com", "compliance@trading-firm.com"]
    severity_threshold: "POSITION_LIMIT_EXCEEDED,DAILY_LOSS_LIMIT_EXCEEDED"
    
  slack_notifications:
    enabled: true
    webhook_url: "https://hooks.slack.com/services/risk-alerts"
    channel: "#risk-management"
    
# Business context
metadata:
  description: "Critical risk management alerts for position and loss limits"
  compliance_requirement: "regulatory_risk_monitoring"
  business_impact: "financial_loss_prevention"
  max_position_size: 1000000
  max_daily_loss: 50000